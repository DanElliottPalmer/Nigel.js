var exampleJSON = {"id":1,"jsonrpc":"2.0","total":7,"result":[{"id":0,"guid":"3daaa847-2edc-44d6-97a2-0c2527888ae2","isActive":true,"balance":"$1,940.00","picture":"http://placehold.it/32x32","age":20,"name":"Keisha Cooley","gender":"female","company":"Nurali","email":"keishacooley@nurali.com","phone":"+1 (974) 545-3396","address":"780 Division Avenue, Grazierville, Kentucky, 8728","about":"Enim incididunt proident ad ut Lorem irure officia aliquip tempor. In excepteur mollit est dolore magna duis nostrud aute tempor dolore consequat anim consectetur. Anim velit eiusmod amet ex ullamco. Ullamco esse ad magna tempor ullamco consectetur sint aute magna ex reprehenderit aliqua consectetur ullamco. Dolor in ut officia cupidatat officia. Velit dolor adipisicing irure laborum amet exercitation do ut exercitation. Sit nisi proident elit anim excepteur ad.\r\n","registered":"1991-02-16T21:06:14 -00:00","latitude":89.806559,"longitude":104.643486,"tags":["cupidatat","sit","excepteur","esse","aliqua","amet","deserunt"],"friends":[{"id":0,"name":"Mcmahon Blackwell"},{"id":1,"name":"Patel Brennan"},{"id":2,"name":"Earlene Mills"}],"randomArrayItem":"lemon"},{"id":1,"guid":"1b8af45a-07f3-4e53-9255-b49f6cc25134","isActive":false,"balance":"$2,938.00","picture":"http://placehold.it/32x32","age":27,"name":"Leila Hess","gender":"female","company":"Isoplex","email":"leilahess@isoplex.com","phone":"+1 (879) 600-3532","address":"329 Herkimer Street, Conway, California, 7163","about":"Nisi occaecat cupidatat occaecat labore reprehenderit. Id reprehenderit enim ut mollit velit quis qui eu tempor. Pariatur culpa in cupidatat cupidatat elit qui veniam. Excepteur dolore ex ex aliqua eiusmod elit consectetur dolore. Duis incididunt consequat ex mollit laboris. Ea do ullamco est commodo do incididunt laborum.\r\n","registered":"1999-06-08T12:29:41 -01:00","latitude":0.937926,"longitude":-97.875522,"tags":["id","cupidatat","sint","ipsum","aute","ad","nostrud"],"friends":[{"id":0,"name":"Robin Pugh"},{"id":1,"name":"Morales Cabrera"},{"id":2,"name":"Kaye Mcintosh"}],"randomArrayItem":"lemon"},{"id":2,"guid":"e60139b5-d5b0-4b29-ba8c-f61c484e4c5e","isActive":true,"balance":"$3,023.00","picture":"http://placehold.it/32x32","age":23,"name":"Clarke Talley","gender":"male","company":"Xinware","email":"clarketalley@xinware.com","phone":"+1 (834) 458-2469","address":"976 Llama Court, Freeburn, South Carolina, 6057","about":"Amet sit ea laboris ea. Id aute in magna tempor tempor ex dolor sit. Ad occaecat cillum exercitation quis sit anim excepteur non ad.\r\n","registered":"1997-11-28T18:48:59 -00:00","latitude":-69.407769,"longitude":116.468172,"tags":["labore","aliquip","in","enim","occaecat","non","aute"],"friends":[{"id":0,"name":"Robles Lucas"},{"id":1,"name":"Grant Fernandez"},{"id":2,"name":"Oconnor Finch"}],"randomArrayItem":"lemon"},{"id":3,"guid":"b7edf9ec-b7fa-4aea-a32b-e11091e7ac41","isActive":true,"balance":"$3,324.00","picture":"http://placehold.it/32x32","age":37,"name":"Summer Acosta","gender":"female","company":"Marketoid","email":"summeracosta@marketoid.com","phone":"+1 (881) 535-2439","address":"955 Roosevelt Court, Logan, Arizona, 6389","about":"Consequat dolore do aute nostrud est excepteur duis labore do sunt. Voluptate est est dolor adipisicing occaecat ex aliquip. Nostrud labore voluptate velit tempor. Qui veniam enim esse excepteur ea elit sit. Enim ex ea laboris reprehenderit excepteur velit fugiat voluptate ipsum culpa elit.\r\n","registered":"1993-11-07T19:25:35 -00:00","latitude":-15.359967,"longitude":101.705459,"tags":["ut","velit","et","duis","culpa","aute","aute"],"friends":[{"id":0,"name":"Davenport Hatfield"},{"id":1,"name":"Stephenson Warner"},{"id":2,"name":"Roth Bennett"}],"randomArrayItem":"lemon"},{"id":4,"guid":"963475d3-3c2d-4f38-b709-e561591a0b93","isActive":true,"balance":"$2,428.00","picture":"http://placehold.it/32x32","age":23,"name":"Koch Roberson","gender":"male","company":"Micronaut","email":"kochroberson@micronaut.com","phone":"+1 (982) 455-2107","address":"607 Boerum Place, Elwood, Nebraska, 7611","about":"Pariatur ullamco commodo fugiat officia fugiat consequat mollit aliquip ullamco qui sunt. Reprehenderit nisi laborum id id esse magna laboris incididunt tempor nostrud exercitation duis deserunt. Eiusmod commodo veniam quis adipisicing amet proident in sit do ad anim Lorem. Reprehenderit veniam nisi dolore consectetur ad culpa quis sunt reprehenderit Lorem. Ut consequat mollit tempor sint laboris sint.\r\n","registered":"2013-04-19T10:05:14 -01:00","latitude":-26.189463,"longitude":-92.054677,"tags":["ea","elit","labore","qui","sint","excepteur","pariatur"],"friends":[{"id":0,"name":"Pacheco Hudson"},{"id":1,"name":"Lana Bright"},{"id":2,"name":"Barr Nelson"}],"randomArrayItem":"apple"},{"id":5,"guid":"fc1c78ff-40bc-4972-b93a-c46f772addda","isActive":false,"balance":"$3,259.00","picture":"http://placehold.it/32x32","age":32,"name":"Herminia Holcomb","gender":"female","company":"Urbanshee","email":"herminiaholcomb@urbanshee.com","phone":"+1 (877) 503-2274","address":"206 Jewel Street, Robinette, Arkansas, 1700","about":"Incididunt incididunt non sint anim esse excepteur elit. Eiusmod in laboris anim qui cupidatat. Cillum minim proident adipisicing nisi in nulla sit ad mollit pariatur aute nisi. Do ut dolor veniam esse veniam pariatur est Lorem aliqua eiusmod anim. Cupidatat mollit sunt incididunt qui irure non.\r\n","registered":"1992-06-09T21:33:17 -01:00","latitude":-82.834406,"longitude":-125.457335,"tags":["quis","laborum","ipsum","adipisicing","aliqua","amet","aliquip"],"friends":[{"id":0,"name":"Stella Hahn"},{"id":1,"name":"Jamie Rosa"},{"id":2,"name":"Antonia Hewitt"}],"randomArrayItem":"cherry"},{"id":6,"guid":"6f36cbcb-28f2-4369-97c2-4beb1bcecc44","isActive":true,"balance":"$3,030.00","picture":"http://placehold.it/32x32","age":32,"name":"May Burks","gender":"female","company":"Velos","email":"mayburks@velos.com","phone":"+1 (879) 441-2773","address":"764 Pineapple Street, National, Rhode Island, 2341","about":"Ipsum voluptate aliquip mollit non Lorem exercitation dolor officia. Fugiat aute voluptate est ipsum quis esse proident in. Id nostrud in ut sit magna duis nostrud quis velit dolor quis et.\r\n","registered":"2013-03-11T11:41:21 -00:00","latitude":21.018597,"longitude":-155.164081,"tags":["Lorem","ad","consequat","ut","dolor","laboris","nulla"],"friends":[{"id":0,"name":"Imelda Jimenez"},{"id":1,"name":"Phoebe Bates"},{"id":2,"name":"Benton Atkins"}],"randomArrayItem":"cherry"}]},
exampleJSONStr = '{"id":1,"jsonrpc":"2.0","total":7,"result":[{"id":0,"guid":"3daaa847-2edc-44d6-97a2-0c2527888ae2","isActive":true,"balance":"$1,940.00","picture":"http://placehold.it/32x32","age":20,"name":"Keisha Cooley","gender":"female","company":"Nurali","email":"keishacooley@nurali.com","phone":"+1 (974) 545-3396","address":"780 Division Avenue, Grazierville, Kentucky, 8728","about":"Enim incididunt proident ad ut Lorem irure officia aliquip tempor. In excepteur mollit est dolore magna duis nostrud aute tempor dolore consequat anim consectetur. Anim velit eiusmod amet ex ullamco. Ullamco esse ad magna tempor ullamco consectetur sint aute magna ex reprehenderit aliqua consectetur ullamco. Dolor in ut officia cupidatat officia. Velit dolor adipisicing irure laborum amet exercitation do ut exercitation. Sit nisi proident elit anim excepteur ad.\\r\\n","registered":"1991-02-16T21:06:14 -00:00","latitude":89.806559,"longitude":104.643486,"tags":["cupidatat","sit","excepteur","esse","aliqua","amet","deserunt"],"friends":[{"id":0,"name":"Mcmahon Blackwell"},{"id":1,"name":"Patel Brennan"},{"id":2,"name":"Earlene Mills"}],"randomArrayItem":"lemon"},{"id":1,"guid":"1b8af45a-07f3-4e53-9255-b49f6cc25134","isActive":false,"balance":"$2,938.00","picture":"http://placehold.it/32x32","age":27,"name":"Leila Hess","gender":"female","company":"Isoplex","email":"leilahess@isoplex.com","phone":"+1 (879) 600-3532","address":"329 Herkimer Street, Conway, California, 7163","about":"Nisi occaecat cupidatat occaecat labore reprehenderit. Id reprehenderit enim ut mollit velit quis qui eu tempor. Pariatur culpa in cupidatat cupidatat elit qui veniam. Excepteur dolore ex ex aliqua eiusmod elit consectetur dolore. Duis incididunt consequat ex mollit laboris. Ea do ullamco est commodo do incididunt laborum.\\r\\n","registered":"1999-06-08T12:29:41 -01:00","latitude":0.937926,"longitude":-97.875522,"tags":["id","cupidatat","sint","ipsum","aute","ad","nostrud"],"friends":[{"id":0,"name":"Robin Pugh"},{"id":1,"name":"Morales Cabrera"},{"id":2,"name":"Kaye Mcintosh"}],"randomArrayItem":"lemon"},{"id":2,"guid":"e60139b5-d5b0-4b29-ba8c-f61c484e4c5e","isActive":true,"balance":"$3,023.00","picture":"http://placehold.it/32x32","age":23,"name":"Clarke Talley","gender":"male","company":"Xinware","email":"clarketalley@xinware.com","phone":"+1 (834) 458-2469","address":"976 Llama Court, Freeburn, South Carolina, 6057","about":"Amet sit ea laboris ea. Id aute in magna tempor tempor ex dolor sit. Ad occaecat cillum exercitation quis sit anim excepteur non ad.\\r\\n","registered":"1997-11-28T18:48:59 -00:00","latitude":-69.407769,"longitude":116.468172,"tags":["labore","aliquip","in","enim","occaecat","non","aute"],"friends":[{"id":0,"name":"Robles Lucas"},{"id":1,"name":"Grant Fernandez"},{"id":2,"name":"Oconnor Finch"}],"randomArrayItem":"lemon"},{"id":3,"guid":"b7edf9ec-b7fa-4aea-a32b-e11091e7ac41","isActive":true,"balance":"$3,324.00","picture":"http://placehold.it/32x32","age":37,"name":"Summer Acosta","gender":"female","company":"Marketoid","email":"summeracosta@marketoid.com","phone":"+1 (881) 535-2439","address":"955 Roosevelt Court, Logan, Arizona, 6389","about":"Consequat dolore do aute nostrud est excepteur duis labore do sunt. Voluptate est est dolor adipisicing occaecat ex aliquip. Nostrud labore voluptate velit tempor. Qui veniam enim esse excepteur ea elit sit. Enim ex ea laboris reprehenderit excepteur velit fugiat voluptate ipsum culpa elit.\\r\\n","registered":"1993-11-07T19:25:35 -00:00","latitude":-15.359967,"longitude":101.705459,"tags":["ut","velit","et","duis","culpa","aute","aute"],"friends":[{"id":0,"name":"Davenport Hatfield"},{"id":1,"name":"Stephenson Warner"},{"id":2,"name":"Roth Bennett"}],"randomArrayItem":"lemon"},{"id":4,"guid":"963475d3-3c2d-4f38-b709-e561591a0b93","isActive":true,"balance":"$2,428.00","picture":"http://placehold.it/32x32","age":23,"name":"Koch Roberson","gender":"male","company":"Micronaut","email":"kochroberson@micronaut.com","phone":"+1 (982) 455-2107","address":"607 Boerum Place, Elwood, Nebraska, 7611","about":"Pariatur ullamco commodo fugiat officia fugiat consequat mollit aliquip ullamco qui sunt. Reprehenderit nisi laborum id id esse magna laboris incididunt tempor nostrud exercitation duis deserunt. Eiusmod commodo veniam quis adipisicing amet proident in sit do ad anim Lorem. Reprehenderit veniam nisi dolore consectetur ad culpa quis sunt reprehenderit Lorem. Ut consequat mollit tempor sint laboris sint.\\r\\n","registered":"2013-04-19T10:05:14 -01:00","latitude":-26.189463,"longitude":-92.054677,"tags":["ea","elit","labore","qui","sint","excepteur","pariatur"],"friends":[{"id":0,"name":"Pacheco Hudson"},{"id":1,"name":"Lana Bright"},{"id":2,"name":"Barr Nelson"}],"randomArrayItem":"apple"},{"id":5,"guid":"fc1c78ff-40bc-4972-b93a-c46f772addda","isActive":false,"balance":"$3,259.00","picture":"http://placehold.it/32x32","age":32,"name":"Herminia Holcomb","gender":"female","company":"Urbanshee","email":"herminiaholcomb@urbanshee.com","phone":"+1 (877) 503-2274","address":"206 Jewel Street, Robinette, Arkansas, 1700","about":"Incididunt incididunt non sint anim esse excepteur elit. Eiusmod in laboris anim qui cupidatat. Cillum minim proident adipisicing nisi in nulla sit ad mollit pariatur aute nisi. Do ut dolor veniam esse veniam pariatur est Lorem aliqua eiusmod anim. Cupidatat mollit sunt incididunt qui irure non.\\r\\n","registered":"1992-06-09T21:33:17 -01:00","latitude":-82.834406,"longitude":-125.457335,"tags":["quis","laborum","ipsum","adipisicing","aliqua","amet","aliquip"],"friends":[{"id":0,"name":"Stella Hahn"},{"id":1,"name":"Jamie Rosa"},{"id":2,"name":"Antonia Hewitt"}],"randomArrayItem":"cherry"},{"id":6,"guid":"6f36cbcb-28f2-4369-97c2-4beb1bcecc44","isActive":true,"balance":"$3,030.00","picture":"http://placehold.it/32x32","age":32,"name":"May Burks","gender":"female","company":"Velos","email":"mayburks@velos.com","phone":"+1 (879) 441-2773","address":"764 Pineapple Street, National, Rhode Island, 2341","about":"Ipsum voluptate aliquip mollit non Lorem exercitation dolor officia. Fugiat aute voluptate est ipsum quis esse proident in. Id nostrud in ut sit magna duis nostrud quis velit dolor quis et.\\r\\n","registered":"2013-03-11T11:41:21 -00:00","latitude":21.018597,"longitude":-155.164081,"tags":["Lorem","ad","consequat","ut","dolor","laboris","nulla"],"friends":[{"id":0,"name":"Imelda Jimenez"},{"id":1,"name":"Phoebe Bates"},{"id":2,"name":"Benton Atkins"}],"randomArrayItem":"cherry"}]}';

module("Test - JSON");
test("Normal", 1, function(){
	Nigel.JSON("../data/example.json", function(d){
		deepEqual(d, exampleJSON, "Success loading JSON - Normal");
	},{
		"async": false,
		"onError": function(){
			ok(false, "Error loading JSON");
		}
	});
});
asyncTest("Inject - JSONP", 1, function(){
	Nigel.JSON("../data/jsonp.php", function(d){
		deepEqual(d, exampleJSON, "Success loading JSON - Inject");
		start();
	},{
		"async": false,
		"injectToPage": true,
		"onError": function(){
			ok(false, "Error loading JSON");
			start();
		}
	});
});
test("Raw", function(){
	Nigel.JSON("../data/example.json", function(d){
		strictEqual(d, exampleJSONStr, "Success loading JSON - Raw");
	},{
		"async": false,
		"onError": function(){
			ok(false, "Error loading JSON");
		},
		"raw": true
	});
});
asyncTest("Async", 1, function(){
	Nigel.JSON("../data/example.json", function(d){
		deepEqual(d, exampleJSON, "Success loading JSON - Inject");
		start();
	}, {
		"onError": function(){
			ok(false, "Error loading JSON");
			start();
		}
	});
});
test("Error", function(){
	Nigel.JSON("../data/examsple.json", function(d){
		ok(false, "Successfully loaded, should have errored");
	},{
		"async": false,
		"onError": function(){
			ok(true, "Success erroring JSON");
		}
	});
});



var exampleXML = {"attributes":[],"children":[{"attributes":[["id","bk101"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Gambardella, Matthew"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"XML Developer's Guide"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Computer"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"44.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-10-01"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"An in-depth look at creating applications with XML."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk102"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Ralls, Kim"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Midnight Rain"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Fantasy"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"5.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-12-16"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"A former architect battles corporate zombies, an evil sorceress, and her own childhood to become queen of the world."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk103"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Corets, Eva"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Maeve Ascendant"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Fantasy"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"5.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-11-17"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"After the collapse of a nanotechnology society in England, the young survivors lay the foundation for a new society."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk104"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Corets, Eva"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Oberon's Legacy"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Fantasy"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"5.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2001-03-10"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"In post-apocalypse England, the mysterious agent known only as Oberon helps to create a new life for the inhabitants of London. Sequel to Maeve Ascendant."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk105"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Corets, Eva"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"The Sundered Grail"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Fantasy"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"5.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2001-09-10"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"The two daughters of Maeve, half-sisters, battle one another for control of England. Sequel to Oberon's Legacy."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk106"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Randall, Cynthia"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Lover Birds"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Romance"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"4.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-09-02"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"When Carla meets Paul at an ornithology conference, tempers fly as feathers get ruffled."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk107"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Thurman, Paula"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Splish Splash"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Romance"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"4.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-11-02"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"A deep sea diver finds true love twenty thousand leagues beneath the sea."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk108"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Knorr, Stefan"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Creepy Crawlies"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Horror"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"4.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-12-06"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"An anthology of horror stories about roaches, centipedes, scorpions  and other insects."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk109"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Kress, Peter"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Paradox Lost"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Science Fiction"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"6.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-11-02"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"After an inadvertant trip through a Heisenberg Uncertainty Device, James Salway discovers the problems of being quantum."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk110"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"O'Brien, Tim"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Microsoft .NET: The Programming Bible"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Computer"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"36.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-12-09"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"Microsoft's .NET initiative is explored in detail in this deep programmer's reference."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk111"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"O'Brien, Tim"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"MSXML3: A Comprehensive Guide"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Computer"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"36.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2000-12-01"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"The Microsoft MSXML3 parser is covered in detail, with attention to XML DOM interfaces, XSLT processing, SAX and more."}],"nodeName":"book","nodeValue":""},{"attributes":[["id","bk112"]],"children":[{"attributes":[],"children":[],"nodeName":"author","nodeValue":"Galos, Mike"},{"attributes":[],"children":[],"nodeName":"title","nodeValue":"Visual Studio 7: A Comprehensive Guide"},{"attributes":[],"children":[],"nodeName":"genre","nodeValue":"Computer"},{"attributes":[],"children":[],"nodeName":"price","nodeValue":"49.95"},{"attributes":[],"children":[],"nodeName":"publish_date","nodeValue":"2001-04-16"},{"attributes":[],"children":[],"nodeName":"description","nodeValue":"Microsoft Visual Studio 7 is explored in depth, looking at how Visual Basic, Visual C++, C#, and ASP+ are integrated into a comprehensive development environment."}],"nodeName":"book","nodeValue":""}],"nodeName":"catalog","nodeValue":""},
	exampleXMLStr = "<?xml version=\"1.0\"?><catalog><book id=\"bk101\"><author>Gambardella, Matthew</author><title>XML Developer's Guide</title><genre>Computer</genre><price>44.95</price><publish_date>2000-10-01</publish_date><description>An in-depth look at creating applications with XML.</description></book><book id=\"bk102\"><author>Ralls, Kim</author><title>Midnight Rain</title><genre>Fantasy</genre><price>5.95</price><publish_date>2000-12-16</publish_date><description>A former architect battles corporate zombies, an evil sorceress, and her own childhood to become queen of the world.</description></book><book id=\"bk103\"><author>Corets, Eva</author><title>Maeve Ascendant</title><genre>Fantasy</genre><price>5.95</price><publish_date>2000-11-17</publish_date><description>After the collapse of a nanotechnology society in England, the young survivors lay the foundation for a new society.</description></book><book id=\"bk104\"><author>Corets, Eva</author><title>Oberon's Legacy</title><genre>Fantasy</genre><price>5.95</price><publish_date>2001-03-10</publish_date><description>In post-apocalypse England, the mysterious agent known only as Oberon helps to create a new life for the inhabitants of London. Sequel to Maeve Ascendant.</description></book><book id=\"bk105\"><author>Corets, Eva</author><title>The Sundered Grail</title><genre>Fantasy</genre><price>5.95</price><publish_date>2001-09-10</publish_date><description>The two daughters of Maeve, half-sisters, battle one another for control of England. Sequel to Oberon's Legacy.</description></book><book id=\"bk106\"><author>Randall, Cynthia</author><title>Lover Birds</title><genre>Romance</genre><price>4.95</price><publish_date>2000-09-02</publish_date><description>When Carla meets Paul at an ornithology conference, tempers fly as feathers get ruffled.</description></book><book id=\"bk107\"><author>Thurman, Paula</author><title>Splish Splash</title><genre>Romance</genre><price>4.95</price><publish_date>2000-11-02</publish_date><description>A deep sea diver finds true love twenty thousand leagues beneath the sea.</description></book><book id=\"bk108\"><author>Knorr, Stefan</author><title>Creepy Crawlies</title><genre>Horror</genre><price>4.95</price><publish_date>2000-12-06</publish_date><description>An anthology of horror stories about roaches, centipedes, scorpions  and other insects.</description></book><book id=\"bk109\"><author>Kress, Peter</author><title>Paradox Lost</title><genre>Science Fiction</genre><price>6.95</price><publish_date>2000-11-02</publish_date><description>After an inadvertant trip through a Heisenberg Uncertainty Device, James Salway discovers the problems of being quantum.</description></book><book id=\"bk110\"><author>O'Brien, Tim</author><title>Microsoft .NET: The Programming Bible</title><genre>Computer</genre><price>36.95</price><publish_date>2000-12-09</publish_date><description>Microsoft's .NET initiative is explored in detail in this deep programmer's reference.</description></book><book id=\"bk111\"><author>O'Brien, Tim</author><title>MSXML3: A Comprehensive Guide</title><genre>Computer</genre><price>36.95</price><publish_date>2000-12-01</publish_date><description>The Microsoft MSXML3 parser is covered in detail, with attention to XML DOM interfaces, XSLT processing, SAX and more.</description></book><book id=\"bk112\"><author>Galos, Mike</author><title>Visual Studio 7: A Comprehensive Guide</title><genre>Computer</genre><price>49.95</price><publish_date>2001-04-16</publish_date><description>Microsoft Visual Studio 7 is explored in depth, looking at how Visual Basic, Visual C++, C#, and ASP+ are integrated into a comprehensive development environment.</description></book></catalog>";

module("Test - XML");
test("Normal", function(){
	Nigel.XML("../data/example.xml", function(d){
		deepEqual(d, exampleXML, "Success loading XML - Normal");
	},{
		"async": false,
		"onError": function(){
			ok(false, "Error loading XML");
		}
	});
});
asyncTest("Async", function(){
	Nigel.XML("../data/example.xml", function(d){
		deepEqual(d, exampleXML, "Success loading XML - Async");
		start();
	},{
		"onError": function(){
			ok(false, "Error loading XML");
			start();
		}
	});
});
test("Raw", function(){
	Nigel.XML("../data/example.xml", function(d){
		strictEqual(d, exampleXMLStr, "Success loading XML - Raw");
	},{
		"async": false,
		"onError": function(){
			ok(false, "Error loading XML");
		},
		"raw": true
	});
});
test("Error", function(){
	Nigel.XML("../data/example1.xml", function(d){
		ok(false, "Successfully loaded, should have errored");
	},{
		"async": false,
		"onError": function(){
			ok(true, "Success erroring XML");
		}
	});
});




var exampleCSV = [{"Name":"Kirk","Phone":"02 78 31 16 36","Distrib":-0.380298223,"Date":"02/16/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"16.70225, -66.20068"},{"Name":"Melvin","Phone":"09 36 00 35 38","Distrib":-0.100724642,"Date":"03/27/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"37.66354, -132.24788"},{"Name":"Thaddeus","Phone":"08 93 03 83 34","Distrib":-0.081905823,"Date":"01/24/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"-49.99879, 26.20779"},{"Name":"Baxter","Phone":"03 82 35 69 43","Distrib":-0.194817486,"Date":"03/11/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"45.57977, -178.96747"},{"Name":"Reuben","Phone":"01 98 34 11 20","Distrib":-0.171902047,"Date":"08/12/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"4.63383, -122.12188"},{"Name":"Conan","Phone":"04 06 23 96 80","Distrib":-0.24057448,"Date":"01/06/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"62.31906, 109.83258"},{"Name":"Paki","Phone":"03 22 92 72 15","Distrib":0.301207783,"Date":"10/01/2013","Bio":"Lorem ipsum dolor","LatLong":"-71.31521, 27.10101"},{"Name":"Armand","Phone":"04 65 58 86 80","Distrib":0.458036554,"Date":"04/24/2013","Bio":"Lorem","LatLong":"-86.6627, 67.07489"},{"Name":"Sebastian","Phone":"06 22 68 06 78","Distrib":-0.286724709,"Date":"07/18/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"-36.80949, 22.39814"},{"Name":"Alexander","Phone":"02 82 81 43 44","Distrib":-0.336791042,"Date":"07/28/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-58.68195, -108.59439"},{"Name":"Caesar","Phone":"01 39 89 88 96","Distrib":-0.561919187,"Date":"07/24/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"28.62585, -97.41161"},{"Name":"Chaney","Phone":"08 10 97 87 79","Distrib":-0.136298264,"Date":"04/14/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"24.82041, 48.94107"},{"Name":"Lamar","Phone":"02 77 51 20 84","Distrib":-0.113754261,"Date":"12/17/2013","Bio":"Lorem","LatLong":"-56.43275, -99.13861"},{"Name":"Coby","Phone":"04 81 27 08 22","Distrib":0.094411105,"Date":"01/29/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-28.8726, 80.89968"},{"Name":"Guy","Phone":"04 61 24 81 34","Distrib":0.165639284,"Date":"09/23/2013","Bio":"Lorem ipsum dolor sit","LatLong":"-18.58046, -60.8949"},{"Name":"Brett","Phone":"03 92 59 10 03","Distrib":0.389360568,"Date":"05/25/2014","Bio":"Lorem ipsum dolor sit amet,","LatLong":"3.14168, -79.5327"},{"Name":"Vincent","Phone":"05 76 56 98 34","Distrib":0.086435505,"Date":"04/02/2013","Bio":"Lorem ipsum dolor","LatLong":"-2.31366, 93.93186"},{"Name":"Amos","Phone":"06 45 46 99 90","Distrib":0.155292531,"Date":"10/06/2012","Bio":"Lorem ipsum dolor","LatLong":"44.49779, 107.74739"},{"Name":"Tiger","Phone":"03 88 48 98 38","Distrib":0.153606471,"Date":"06/01/2013","Bio":"Lorem ipsum dolor sit","LatLong":"-5.68946, 97.00389"},{"Name":"Avram","Phone":"06 96 58 09 00","Distrib":0.323163596,"Date":"05/26/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"-14.73784, 64.0566"},{"Name":"Kasper","Phone":"06 01 50 15 20","Distrib":0.139997541,"Date":"08/22/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"75.12573, -41.33502"},{"Name":"Caesar","Phone":"09 30 92 48 55","Distrib":-0.23500904,"Date":"06/21/2014","Bio":"Lorem ipsum dolor sit","LatLong":"3.71457, 39.98527"},{"Name":"Kasper","Phone":"02 94 29 42 40","Distrib":0.374805001,"Date":"11/18/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"39.67198, -178.83414"},{"Name":"Jonah","Phone":"03 45 40 84 99","Distrib":-0.003364616,"Date":"01/15/2014","Bio":"Lorem ipsum dolor sit amet,","LatLong":"80.55912, -11.69075"},{"Name":"Edward","Phone":"01 35 41 19 57","Distrib":-0.108569829,"Date":"11/03/2012","Bio":"Lorem ipsum","LatLong":"-44.25666, -84.81351"},{"Name":"Jeremy","Phone":"02 34 56 96 54","Distrib":0.29354109,"Date":"08/30/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"-29.30009, 56.81357"},{"Name":"Aladdin","Phone":"01 30 88 08 23","Distrib":-0.387722083,"Date":"08/14/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"-81.23988, -81.48281"},{"Name":"Lester","Phone":"08 47 03 37 58","Distrib":0.413333836,"Date":"08/02/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"43.63956, 145.01831"},{"Name":"Tiger","Phone":"03 45 20 17 91","Distrib":0.093964523,"Date":"01/13/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-26.37784, 136.31238"},{"Name":"Dennis","Phone":"03 60 25 35 49","Distrib":0.371094848,"Date":"04/08/2013","Bio":"Lorem ipsum dolor sit amet,","LatLong":"-68.7784, 13.65429"},{"Name":"Seth","Phone":"07 42 11 79 06","Distrib":-0.255732115,"Date":"06/18/2014","Bio":"Lorem ipsum dolor sit","LatLong":"-20.17656, -70.61772"},{"Name":"Hector","Phone":"03 55 33 45 07","Distrib":-0.10304658,"Date":"09/24/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"34.38671, -4.94774"},{"Name":"Odysseus","Phone":"08 02 15 71 05","Distrib":0.082379815,"Date":"02/06/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"26.85437, 64.32012"},{"Name":"Herrod","Phone":"08 06 50 62 30","Distrib":-0.332150599,"Date":"03/27/2014","Bio":"Lorem ipsum dolor sit amet,","LatLong":"-0.61443, -23.02336"},{"Name":"Tanner","Phone":"06 81 13 28 10","Distrib":0.286899351,"Date":"10/05/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"46.2592, -162.09434"},{"Name":"Caleb","Phone":"03 97 91 75 01","Distrib":0.042769136,"Date":"10/30/2013","Bio":"Lorem ipsum dolor sit","LatLong":"63.50204, -54.98635"},{"Name":"Ashton","Phone":"08 90 41 45 52","Distrib":0.343390456,"Date":"04/26/2014","Bio":"Lorem ipsum","LatLong":"3.55198, 72.02613"},{"Name":"Hasad","Phone":"05 28 71 97 91","Distrib":-0.100094364,"Date":"06/28/2013","Bio":"Lorem","LatLong":"-29.02359, -38.90306"},{"Name":"Samson","Phone":"08 09 65 98 90","Distrib":0.167629314,"Date":"05/22/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"-89.90272, -3.48924"},{"Name":"Rigel","Phone":"02 09 56 58 89","Distrib":-0.058139616,"Date":"10/02/2013","Bio":"Lorem ipsum dolor sit","LatLong":"53.40208, -76.26815"},{"Name":"Beck","Phone":"08 12 78 19 90","Distrib":0.080360916,"Date":"01/13/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"3.37864, -162.67564"},{"Name":"Yasir","Phone":"09 45 92 49 82","Distrib":-0.010470574,"Date":"12/14/2012","Bio":"Lorem ipsum","LatLong":"20.39746, 105.58057"},{"Name":"Vance","Phone":"03 65 75 47 84","Distrib":0.226967328,"Date":"04/04/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"-1.3033, 132.72484"},{"Name":"Yoshio","Phone":"07 38 92 89 08","Distrib":-0.324146625,"Date":"03/07/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"35.25808, 130.32008"},{"Name":"Hyatt","Phone":"04 76 87 51 84","Distrib":-0.111854812,"Date":"05/20/2013","Bio":"Lorem ipsum dolor sit","LatLong":"63.92378, -4.71262"},{"Name":"Keith","Phone":"01 11 49 99 59","Distrib":0.331613972,"Date":"04/19/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"40.39677, 3.12989"},{"Name":"Tanek","Phone":"08 61 65 24 37","Distrib":0.207734042,"Date":"09/29/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"54.54467, 170.19673"},{"Name":"Carson","Phone":"04 69 98 83 14","Distrib":-0.014236441,"Date":"06/26/2013","Bio":"Lorem ipsum dolor sit amet,","LatLong":"12.74855, 58.62675"},{"Name":"Ezekiel","Phone":"05 82 57 84 46","Distrib":-0.150705767,"Date":"03/11/2014","Bio":"Lorem ipsum dolor sit","LatLong":"76.05383, 155.22781"},{"Name":"Benjamin","Phone":"08 96 04 07 21","Distrib":-0.44344335,"Date":"10/23/2012","Bio":"Lorem ipsum","LatLong":"-52.9658, -99.46715"},{"Name":"Wayne","Phone":"02 07 94 94 82","Distrib":-0.153359096,"Date":"10/26/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"-31.09932, 65.03394"},{"Name":"Oliver","Phone":"06 45 39 00 21","Distrib":-0.124759412,"Date":"01/18/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"15.4999, -149.00924"},{"Name":"Cedric","Phone":"07 06 78 99 98","Distrib":0.317552905,"Date":"08/02/2013","Bio":"Lorem","LatLong":"10.79427, 118.54051"},{"Name":"Barclay","Phone":"06 05 54 48 41","Distrib":-0.043824823,"Date":"10/05/2012","Bio":"Lorem ipsum dolor sit amet,","LatLong":"27.23905, 69.15285"},{"Name":"Steven","Phone":"07 87 79 98 81","Distrib":0.071079611,"Date":"12/05/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"20.11026, 101.63264"},{"Name":"Tobias","Phone":"08 37 73 75 38","Distrib":0.244297913,"Date":"07/11/2013","Bio":"Lorem ipsum dolor","LatLong":"-12.94553, -89.27657"},{"Name":"Hop","Phone":"04 79 76 39 12","Distrib":-0.083768671,"Date":"09/22/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"-73.7623, 155.31883"},{"Name":"Zeph","Phone":"01 39 02 81 87","Distrib":-0.048718062,"Date":"06/05/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"6.33117, 13.00388"},{"Name":"Chadwick","Phone":"05 74 12 89 43","Distrib":0.251301732,"Date":"04/28/2014","Bio":"Lorem ipsum dolor sit","LatLong":"49.78697, 11.1257"},{"Name":"Donovan","Phone":"03 09 60 19 61","Distrib":0.249673469,"Date":"09/28/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"70.38514, 82.77524"},{"Name":"Alden","Phone":"01 92 81 05 12","Distrib":0.144622699,"Date":"12/13/2012","Bio":"Lorem","LatLong":"77.26522, -4.88558"},{"Name":"Ryan","Phone":"07 11 61 69 49","Distrib":0.287016206,"Date":"01/05/2013","Bio":"Lorem ipsum dolor","LatLong":"80.04813, -156.44402"},{"Name":"Kane","Phone":"09 95 08 21 82","Distrib":-0.52184061,"Date":"12/29/2013","Bio":"Lorem ipsum","LatLong":"7.92313, 91.66258"},{"Name":"Perry","Phone":"05 08 55 08 68","Distrib":-0.013411392,"Date":"03/25/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"71.30981, -10.48673"},{"Name":"Reed","Phone":"09 29 62 45 59","Distrib":-0.249211427,"Date":"06/08/2014","Bio":"Lorem ipsum dolor sit amet,","LatLong":"-45.63389, -13.42171"},{"Name":"Isaiah","Phone":"06 43 85 10 69","Distrib":-0.151239111,"Date":"09/08/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"-30.59943, -19.21088"},{"Name":"Nasim","Phone":"08 22 80 97 67","Distrib":-0.04433226,"Date":"12/01/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-35.23291, -109.53643"},{"Name":"Sylvester","Phone":"07 31 18 61 21","Distrib":-0.292397843,"Date":"01/04/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"-57.27016, -29.20936"},{"Name":"Lucian","Phone":"05 41 65 85 15","Distrib":0.130763787,"Date":"12/17/2012","Bio":"Lorem ipsum dolor sit amet,","LatLong":"57.30718, -28.42906"},{"Name":"Graham","Phone":"08 24 70 15 79","Distrib":-0.363931625,"Date":"12/27/2013","Bio":"Lorem ipsum dolor","LatLong":"83.19902, 74.55487"},{"Name":"Abbot","Phone":"01 38 74 08 16","Distrib":-0.029572992,"Date":"05/03/2013","Bio":"Lorem ipsum dolor","LatLong":"-45.36544, 57.52557"},{"Name":"Kuame","Phone":"08 91 75 32 97","Distrib":-0.189750554,"Date":"11/21/2012","Bio":"Lorem ipsum","LatLong":"67.1735, -71.79179"},{"Name":"Conan","Phone":"03 92 34 93 69","Distrib":0.009315516,"Date":"08/08/2013","Bio":"Lorem ipsum dolor sit amet,","LatLong":"-21.25907, 97.74255"},{"Name":"Yasir","Phone":"07 14 89 55 21","Distrib":0.137614346,"Date":"04/02/2014","Bio":"Lorem ipsum dolor sit","LatLong":"1.60789, 83.71151"},{"Name":"Bruce","Phone":"03 06 63 64 58","Distrib":0.255818386,"Date":"04/18/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"6.72043, 56.61235"},{"Name":"Hayden","Phone":"01 08 03 59 75","Distrib":0.520952952,"Date":"11/21/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-67.7936, 129.27918"},{"Name":"Theodore","Phone":"09 58 40 05 41","Distrib":0.288981628,"Date":"09/09/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"-47.72714, 58.40479"},{"Name":"Jeremy","Phone":"08 58 40 42 78","Distrib":-0.373938841,"Date":"12/09/2013","Bio":"Lorem ipsum dolor sit","LatLong":"82.62265, 69.74389"},{"Name":"Solomon","Phone":"07 42 23 07 19","Distrib":-0.179071707,"Date":"07/01/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-74.10948, 110.1792"},{"Name":"Malik","Phone":"07 17 77 19 66","Distrib":0.13780159,"Date":"01/09/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-18.57841, 86.22683"},{"Name":"Dennis","Phone":"05 13 94 18 80","Distrib":0.111140356,"Date":"11/16/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"-79.50902, 5.43977"},{"Name":"Dalton","Phone":"03 86 35 72 33","Distrib":0.149553455,"Date":"09/15/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"-23.80782, -130.10089"},{"Name":"Jack","Phone":"02 72 26 99 42","Distrib":0.149191582,"Date":"07/24/2012","Bio":"Lorem ipsum dolor sit amet,","LatLong":"-53.15649, -63.52572"},{"Name":"Kenyon","Phone":"06 40 72 97 71","Distrib":-0.141486082,"Date":"08/15/2013","Bio":"Lorem","LatLong":"30.41654, -142.80418"},{"Name":"Kuame","Phone":"08 31 55 59 59","Distrib":0.213041605,"Date":"03/29/2014","Bio":"Lorem","LatLong":"69.02345, -165.33202"},{"Name":"Dillon","Phone":"03 29 22 34 69","Distrib":-0.044048853,"Date":"05/08/2014","Bio":"Lorem","LatLong":"73.28728, 159.56285"},{"Name":"Brian","Phone":"09 73 95 10 57","Distrib":0.465008295,"Date":"12/19/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"29.05394, 125.67564"},{"Name":"Tobias","Phone":"09 34 42 04 33","Distrib":0.048580725,"Date":"10/15/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.","LatLong":"-39.53946, -77.39732"},{"Name":"Knox","Phone":"03 98 64 55 46","Distrib":-0.323639334,"Date":"03/11/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"67.94579, 136.6857"},{"Name":"Clayton","Phone":"01 47 15 39 32","Distrib":0.228954399,"Date":"03/03/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","LatLong":"-44.37926, 9.77791"},{"Name":"Nissim","Phone":"07 49 78 30 69","Distrib":0.1077738,"Date":"03/28/2013","Bio":"Lorem ipsum dolor sit","LatLong":"22.44348, -117.25956"},{"Name":"Kasper","Phone":"07 99 25 48 06","Distrib":-0.367439065,"Date":"12/25/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"85.01618, 24.85273"},{"Name":"Jerry","Phone":"04 00 60 49 91","Distrib":-0.2135053,"Date":"09/04/2012","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing","LatLong":"3.26462, -156.5595"},{"Name":"Grady","Phone":"02 32 44 83 74","Distrib":0.049178557,"Date":"06/08/2014","Bio":"Lorem","LatLong":"67.51873, -61.95118"},{"Name":"Myles","Phone":"04 22 81 24 07","Distrib":0.23955901,"Date":"06/28/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur","LatLong":"35.94094, -152.73334"},{"Name":"Bevis","Phone":"08 41 24 13 05","Distrib":-0.241882258,"Date":"10/18/2012","Bio":"Lorem ipsum dolor sit amet,","LatLong":"63.35463, -119.53794"},{"Name":"Hall","Phone":"08 98 72 51 22","Distrib":-0.174526848,"Date":"01/26/2013","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"-28.87086, 77.21673"},{"Name":"John","Phone":"05 46 78 65 67","Distrib":-0.340078116,"Date":"02/26/2014","Bio":"Lorem ipsum dolor sit amet,","LatLong":"31.22678, -86.87756"},{"Name":"Bruce","Phone":"09 65 10 66 50","Distrib":0.266870903,"Date":"06/15/2014","Bio":"Lorem ipsum dolor sit amet, consectetuer","LatLong":"46.80729, 130.96521"},{"Name":"Hamish","Phone":"08 26 44 97 04","Distrib":-0.265833958,"Date":"05/03/2014","Bio":"Lorem ipsum dolor","LatLong":"-78.11615, -88.95727"}],
	exampleCSVStr = "Name,Phone,Distrib,Date,Bio,LatLong\rKirk,02 78 31 16 36,-0.380298223,02/16/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"16.70225, -66.20068\"\rMelvin,09 36 00 35 38,-0.100724642,03/27/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"37.66354, -132.24788\"\rThaddeus,08 93 03 83 34,-0.081905823,01/24/2014,\"Lorem ipsum dolor sit amet, consectetuer\",\"-49.99879, 26.20779\"\rBaxter,03 82 35 69 43,-0.194817486,03/11/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"45.57977, -178.96747\"\rReuben,01 98 34 11 20,-0.171902047,08/12/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"4.63383, -122.12188\"\rConan,04 06 23 96 80,-0.24057448,01/06/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"62.31906, 109.83258\"\rPaki,03 22 92 72 15,0.301207783,10/01/2013,Lorem ipsum dolor,\"-71.31521, 27.10101\"\rArmand,04 65 58 86 80,0.458036554,04/24/2013,Lorem,\"-86.6627, 67.07489\"\rSebastian,06 22 68 06 78,-0.286724709,07/18/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"-36.80949, 22.39814\"\rAlexander,02 82 81 43 44,-0.336791042,07/28/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-58.68195, -108.59439\"\rCaesar,01 39 89 88 96,-0.561919187,07/24/2013,\"Lorem ipsum dolor sit amet, consectetuer\",\"28.62585, -97.41161\"\rChaney,08 10 97 87 79,-0.136298264,04/14/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"24.82041, 48.94107\"\rLamar,02 77 51 20 84,-0.113754261,12/17/2013,Lorem,\"-56.43275, -99.13861\"\rCoby,04 81 27 08 22,0.094411105,01/29/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-28.8726, 80.89968\"\rGuy,04 61 24 81 34,0.165639284,09/23/2013,Lorem ipsum dolor sit,\"-18.58046, -60.8949\"\rBrett,03 92 59 10 03,0.389360568,05/25/2014,\"Lorem ipsum dolor sit amet,\",\"3.14168, -79.5327\"\rVincent,05 76 56 98 34,0.086435505,04/02/2013,Lorem ipsum dolor,\"-2.31366, 93.93186\"\rAmos,06 45 46 99 90,0.155292531,10/06/2012,Lorem ipsum dolor,\"44.49779, 107.74739\"\rTiger,03 88 48 98 38,0.153606471,06/01/2013,Lorem ipsum dolor sit,\"-5.68946, 97.00389\"\rAvram,06 96 58 09 00,0.323163596,05/26/2014,\"Lorem ipsum dolor sit amet, consectetuer\",\"-14.73784, 64.0566\"\rKasper,06 01 50 15 20,0.139997541,08/22/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"75.12573, -41.33502\"\rCaesar,09 30 92 48 55,-0.23500904,06/21/2014,Lorem ipsum dolor sit,\"3.71457, 39.98527\"\rKasper,02 94 29 42 40,0.374805001,11/18/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"39.67198, -178.83414\"\rJonah,03 45 40 84 99,-0.003364616,01/15/2014,\"Lorem ipsum dolor sit amet,\",\"80.55912, -11.69075\"\rEdward,01 35 41 19 57,-0.108569829,11/03/2012,Lorem ipsum,\"-44.25666, -84.81351\"\rJeremy,02 34 56 96 54,0.29354109,08/30/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"-29.30009, 56.81357\"\rAladdin,01 30 88 08 23,-0.387722083,08/14/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"-81.23988, -81.48281\"\rLester,08 47 03 37 58,0.413333836,08/02/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"43.63956, 145.01831\"\rTiger,03 45 20 17 91,0.093964523,01/13/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-26.37784, 136.31238\"\rDennis,03 60 25 35 49,0.371094848,04/08/2013,\"Lorem ipsum dolor sit amet,\",\"-68.7784, 13.65429\"\rSeth,07 42 11 79 06,-0.255732115,06/18/2014,Lorem ipsum dolor sit,\"-20.17656, -70.61772\"\rHector,03 55 33 45 07,-0.10304658,09/24/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"34.38671, -4.94774\"\rOdysseus,08 02 15 71 05,0.082379815,02/06/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"26.85437, 64.32012\"\rHerrod,08 06 50 62 30,-0.332150599,03/27/2014,\"Lorem ipsum dolor sit amet,\",\"-0.61443, -23.02336\"\rTanner,06 81 13 28 10,0.286899351,10/05/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"46.2592, -162.09434\"\rCaleb,03 97 91 75 01,0.042769136,10/30/2013,Lorem ipsum dolor sit,\"63.50204, -54.98635\"\rAshton,08 90 41 45 52,0.343390456,04/26/2014,Lorem ipsum,\"3.55198, 72.02613\"\rHasad,05 28 71 97 91,-0.100094364,06/28/2013,Lorem,\"-29.02359, -38.90306\"\rSamson,08 09 65 98 90,0.167629314,05/22/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"-89.90272, -3.48924\"\rRigel,02 09 56 58 89,-0.058139616,10/02/2013,Lorem ipsum dolor sit,\"53.40208, -76.26815\"\rBeck,08 12 78 19 90,0.080360916,01/13/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"3.37864, -162.67564\"\rYasir,09 45 92 49 82,-0.010470574,12/14/2012,Lorem ipsum,\"20.39746, 105.58057\"\rVance,03 65 75 47 84,0.226967328,04/04/2013,\"Lorem ipsum dolor sit amet, consectetuer\",\"-1.3033, 132.72484\"\rYoshio,07 38 92 89 08,-0.324146625,03/07/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"35.25808, 130.32008\"\rHyatt,04 76 87 51 84,-0.111854812,05/20/2013,Lorem ipsum dolor sit,\"63.92378, -4.71262\"\rKeith,01 11 49 99 59,0.331613972,04/19/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"40.39677, 3.12989\"\rTanek,08 61 65 24 37,0.207734042,09/29/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"54.54467, 170.19673\"\rCarson,04 69 98 83 14,-0.014236441,06/26/2013,\"Lorem ipsum dolor sit amet,\",\"12.74855, 58.62675\"\rEzekiel,05 82 57 84 46,-0.150705767,03/11/2014,Lorem ipsum dolor sit,\"76.05383, 155.22781\"\rBenjamin,08 96 04 07 21,-0.44344335,10/23/2012,Lorem ipsum,\"-52.9658, -99.46715\"\rWayne,02 07 94 94 82,-0.153359096,10/26/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"-31.09932, 65.03394\"\rOliver,06 45 39 00 21,-0.124759412,01/18/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"15.4999, -149.00924\"\rCedric,07 06 78 99 98,0.317552905,08/02/2013,Lorem,\"10.79427, 118.54051\"\rBarclay,06 05 54 48 41,-0.043824823,10/05/2012,\"Lorem ipsum dolor sit amet,\",\"27.23905, 69.15285\"\rSteven,07 87 79 98 81,0.071079611,12/05/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"20.11026, 101.63264\"\rTobias,08 37 73 75 38,0.244297913,07/11/2013,Lorem ipsum dolor,\"-12.94553, -89.27657\"\rHop,04 79 76 39 12,-0.083768671,09/22/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"-73.7623, 155.31883\"\rZeph,01 39 02 81 87,-0.048718062,06/05/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"6.33117, 13.00388\"\rChadwick,05 74 12 89 43,0.251301732,04/28/2014,Lorem ipsum dolor sit,\"49.78697, 11.1257\"\rDonovan,03 09 60 19 61,0.249673469,09/28/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"70.38514, 82.77524\"\rAlden,01 92 81 05 12,0.144622699,12/13/2012,Lorem,\"77.26522, -4.88558\"\rRyan,07 11 61 69 49,0.287016206,01/05/2013,Lorem ipsum dolor,\"80.04813, -156.44402\"\rKane,09 95 08 21 82,-0.52184061,12/29/2013,Lorem ipsum,\"7.92313, 91.66258\"\rPerry,05 08 55 08 68,-0.013411392,03/25/2014,\"Lorem ipsum dolor sit amet, consectetuer\",\"71.30981, -10.48673\"\rReed,09 29 62 45 59,-0.249211427,06/08/2014,\"Lorem ipsum dolor sit amet,\",\"-45.63389, -13.42171\"\rIsaiah,06 43 85 10 69,-0.151239111,09/08/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"-30.59943, -19.21088\"\rNasim,08 22 80 97 67,-0.04433226,12/01/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-35.23291, -109.53643\"\rSylvester,07 31 18 61 21,-0.292397843,01/04/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"-57.27016, -29.20936\"\rLucian,05 41 65 85 15,0.130763787,12/17/2012,\"Lorem ipsum dolor sit amet,\",\"57.30718, -28.42906\"\rGraham,08 24 70 15 79,-0.363931625,12/27/2013,Lorem ipsum dolor,\"83.19902, 74.55487\"\rAbbot,01 38 74 08 16,-0.029572992,05/03/2013,Lorem ipsum dolor,\"-45.36544, 57.52557\"\rKuame,08 91 75 32 97,-0.189750554,11/21/2012,Lorem ipsum,\"67.1735, -71.79179\"\rConan,03 92 34 93 69,0.009315516,08/08/2013,\"Lorem ipsum dolor sit amet,\",\"-21.25907, 97.74255\"\rYasir,07 14 89 55 21,0.137614346,04/02/2014,Lorem ipsum dolor sit,\"1.60789, 83.71151\"\rBruce,03 06 63 64 58,0.255818386,04/18/2014,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"6.72043, 56.61235\"\rHayden,01 08 03 59 75,0.520952952,11/21/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-67.7936, 129.27918\"\rTheodore,09 58 40 05 41,0.288981628,09/09/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"-47.72714, 58.40479\"\rJeremy,08 58 40 42 78,-0.373938841,12/09/2013,Lorem ipsum dolor sit,\"82.62265, 69.74389\"\rSolomon,07 42 23 07 19,-0.179071707,07/01/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-74.10948, 110.1792\"\rMalik,07 17 77 19 66,0.13780159,01/09/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-18.57841, 86.22683\"\rDennis,05 13 94 18 80,0.111140356,11/16/2013,\"Lorem ipsum dolor sit amet, consectetuer\",\"-79.50902, 5.43977\"\rDalton,03 86 35 72 33,0.149553455,09/15/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"-23.80782, -130.10089\"\rJack,02 72 26 99 42,0.149191582,07/24/2012,\"Lorem ipsum dolor sit amet,\",\"-53.15649, -63.52572\"\rKenyon,06 40 72 97 71,-0.141486082,08/15/2013,Lorem,\"30.41654, -142.80418\"\rKuame,08 31 55 59 59,0.213041605,03/29/2014,Lorem,\"69.02345, -165.33202\"\rDillon,03 29 22 34 69,-0.044048853,05/08/2014,Lorem,\"73.28728, 159.56285\"\rBrian,09 73 95 10 57,0.465008295,12/19/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"29.05394, 125.67564\"\rTobias,09 34 42 04 33,0.048580725,10/15/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\",\"-39.53946, -77.39732\"\rKnox,03 98 64 55 46,-0.323639334,03/11/2014,\"Lorem ipsum dolor sit amet, consectetuer\",\"67.94579, 136.6857\"\rClayton,01 47 15 39 32,0.228954399,03/03/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed\",\"-44.37926, 9.77791\"\rNissim,07 49 78 30 69,0.1077738,03/28/2013,Lorem ipsum dolor sit,\"22.44348, -117.25956\"\rKasper,07 99 25 48 06,-0.367439065,12/25/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"85.01618, 24.85273\"\rJerry,04 00 60 49 91,-0.2135053,09/04/2012,\"Lorem ipsum dolor sit amet, consectetuer adipiscing\",\"3.26462, -156.5595\"\rGrady,02 32 44 83 74,0.049178557,06/08/2014,Lorem,\"67.51873, -61.95118\"\rMyles,04 22 81 24 07,0.23955901,06/28/2013,\"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur\",\"35.94094, -152.73334\"\rBevis,08 41 24 13 05,-0.241882258,10/18/2012,\"Lorem ipsum dolor sit amet,\",\"63.35463, -119.53794\"\rHall,08 98 72 51 22,-0.174526848,01/26/2013,\"Lorem ipsum dolor sit amet, consectetuer\",\"-28.87086, 77.21673\"\rJohn,05 46 78 65 67,-0.340078116,02/26/2014,\"Lorem ipsum dolor sit amet,\",\"31.22678, -86.87756\"\rBruce,09 65 10 66 50,0.266870903,06/15/2014,\"Lorem ipsum dolor sit amet, consectetuer\",\"46.80729, 130.96521\"\rHamish,08 26 44 97 04,-0.265833958,05/03/2014,Lorem ipsum dolor,\"-78.11615, -88.95727\"";

module("Test - CSV");
test("Normal", function(){
	Nigel.DSV("../data/example.csv", function(d){
		deepEqual(d, exampleCSV, "Success loading CSV - Normal");
	}, {
		"async": false,
		"delimeter": ",",
		"onError": function(){
			ok(false, "Error loading CSV");
		}
	});
});
asyncTest("Async", 1, function(){
	Nigel.DSV("../data/example.csv", function(d){
		deepEqual(d, exampleCSV, "Success loading CSV - Async");
		start();
	}, {
		"delimeter": ",",
		"onError": function(){
			ok(false, "Error loading CSV");
			start();
		}
	});
});
test("Raw", function(){
	Nigel.DSV("../data/example.csv", function(d){
		strictEqual(d, exampleCSVStr, "Success loading CSV - Raw");
	}, {
		"async": false,
		"delimeter": ",",
		"onError": function(){
			ok(false, "Error loading CSV");
		},
		"raw": true
	});
});
test("Error", function(){
	Nigel.DSV("../data/example2.csv", function(d){
		ok(false, "Successfully loaded, should have errored");
	},{
		"async": false,
		"onError": function(){
			ok(true, "Success erroring CSV");
		}
	});
});
test("Array based", function(){
	Nigel.DSV("../data/example.csv", function(d){
		expect(2);

		//Check first row is array
		deepEqual(d[0], ["Name","Phone","Distrib","Date","Bio","LatLong"], "First row is correct");
		//Check second row is array and not key based
		deepEqual(d[1], ["Kirk","02 78 31 16 36",-0.380298223,"02/16/2014","Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Curabitur sed","16.70225, -66.20068"], "Second row is array, correct and not key based");
	}, {
		"async": false,
		"delimeter": ",",
		"firstRowHeaders": false,
		"onError": function(){
			ok(false, "Error loading CSV");
		}
	});
});
test("Number not parsed", function(){
	Nigel.DSV("../data/example.csv", function(d){
		ok( d[0].Distrib==="-0.380298223" && typeof d[0].Distrib==="string", "Numbers not parsed");
	}, {
		"async": false,
		"delimeter": ",",
		"onError": function(){
			ok(false, "Error loading CSV");
		},
		"parseNumbers": false
	});
});