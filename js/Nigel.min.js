(function(b,a,c){function d(){var k=(function(){var x,z,A={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o,q=function(B){throw {name:"SyntaxError",message:B,at:x,text:o}},u=function(B){if(B&&B!==z){q("Expected '"+B+"' instead of '"+z+"'")}z=o.charAt(x);x+=1;return z},v=function(){var B,C="";if(z==="-"){C="-";u("-")}while(z>="0"&&z<="9"){C+=z;u()}if(z==="."){C+=".";while(u()&&z>="0"&&z<="9"){C+=z}}if(z==="e"||z==="E"){C+=z;u();if(z==="-"||z==="+"){C+=z;u()}while(z>="0"&&z<="9"){C+=z;u()}}B=+C;if(!isFinite(B)){q("Bad number")}else{return B}},t=function(){var B,C,D="",E;if(z==='"'){while(u()){if(z==='"'){u();return D}if(z==="\\"){u();if(z==="u"){E=0;for(C=0;C<4;C+=1){B=parseInt(u(),16);if(!isFinite(B)){break}E=E*16+B}D+=String.fromCharCode(E)}else{if(typeof A[z]==="string"){D+=A[z]}else{break}}}else{D+=z}}}q("Bad string")},r=function(){while(z&&z<=" "){u()}},y=function(){switch(z){case"t":u("t");u("r");u("u");u("e");return true;case"f":u("f");u("a");u("l");u("s");u("e");return false;case"n":u("n");u("u");u("l");u("l");return null}q("Unexpected '"+z+"'")},p,s=function(){var B=[];if(z==="["){u("[");r();if(z==="]"){u("]");return B}while(z){B.push(p());r();if(z==="]"){u("]");return B}u(",");r()}}q("Bad array")},w=function(){var B,C={};if(z==="{"){u("{");r();if(z==="}"){u("}");return C}while(z){B=t();r();u(":");if(Object.hasOwnProperty.call(C,B)){q('Duplicate key "'+B+'"')}C[B]=p();r();if(z==="}"){u("}");return C}u(",");r()}}q("Bad object")};p=function(){r();switch(z){case"{":return w();case"[":return s();case'"':return t();case"-":return v();default:return z>="0"&&z<="9"?v():y()}};return function(B,D){var E;o=B;x=0;z=" ";E=p();r();if(z){q("Syntax error")}return typeof D==="function"?(function C(G,H){var I,J,F=G[H];if(F&&typeof F==="object"){for(I in F){if(Object.prototype.hasOwnProperty.call(F,I)){J=C(F,I);if(J!==c){F[I]=J}else{delete F[I]}}}}return D.call(G,H,F)}({"":E},"")):E}}());var h={CSV:function(p,o){o=o||{};o.delimeter=",";return n(p,o)},JSON:function(o){if("JSON" in b){return JSON.parse(o)}return k(o)},TSV:function(p,o){o=o||{};o.delimeter="\t";return n(p,o)},XML:function(r){var q=null,o={};if(typeof b.DOMParser!="undefined"){q=(new DOMParser()).parseFromString(r,"text/xml")}else{q=new b.ActiveXObject("Microsoft.XMLDOM");q.async="false";q.loadXML(r)}function p(v){var u={attributes:[],children:[],nodeName:"",nodeValue:""},t=0,s=0;if(v.attributes.length!=0){for(t=0,s=v.attributes.length;t<s;t++){u.attributes.push([v.attributes[t].nodeName,v.attributes[t].nodeValue])}}for(t=0,s=v.childNodes.length;t<s;t++){if(v.childNodes[t].nodeType!=3){u.children.push(p(v.childNodes[t]))}}u.nodeName=v.nodeName;if(v.childNodes.length==1&&v.childNodes[0].nodeType==3){u.nodeValue=v.childNodes[0].nodeValue}return u}o=p(q.documentElement);return o}},g={CSV:"text/csv",JSON:"application/json",TSV:"text/tab-separated-values",XML:"text/xml"},i=(b.XMLHttpRequest||ActiveXObject("Msxml2.XMLHTTP")||ActiveXObject("Microsoft.XMLHTTP")),f=((navigator.userAgent.indexOf("MSIE")!==-1)?true:false);function e(p,o){if(o.fusionTable||p.indexOf("/fusiontables/")!=-1){return true}return false}function l(v,u,r){if(v===""||u===c||typeof u!=="function"){alert("No URL or callback");return}r=r||{};var q=new i(),o=null;r.type=r.type||m(v).type;r.raw=r.raw||false;r.injectToPage=r.injectToPage||false;if(r.fusionTable=e(v,r)){v=v.replace(/(([&|\?]n?)alt=csv(&?))/gi,"$2alt=json$3").replace(/&callback(=[^&]*)?|callback(=[^&]*)?&?/gi,"");r.type="JSON"}if(r.injectToPage){this.loadCallback=u;v+="&callback=Nigel.loadCallback";var t=a.createElement("script"),s=a.getElementsByTagName("script")[0];t.type="text/javascript";t.src=v;s.parentNode.insertBefore(t,s)}else{if(/firefox\/3.6/.test(navigator.userAgent.toLowerCase())){q.onload=q.onerror=q.onabort=function(){console.log("A");p()}}else{q.onreadystatechange=function(){p()}}function p(){if(q.readyState==4&&q.status==200){if(r.raw){u(q.responseText)}else{o=j(q.responseText,r.type,r);u(o)}}else{if(q.readyState==4&&q.status!=200){u({error:{text:"Request error",code:q.status}})}}}q.open("GET",v,false);if(q.overrideMimeType){q.overrideMimeType(r.type)}q.send(null)}}function j(q,p,o){return h[p](q,o)}function n(x,u){if(typeof u.firstRowHeaders!="boolean"){u.firstRowHeaders=true}var w=new RegExp("(?:("+u.delimeter+")|[\\n\\r]|^)(?:([\"'])((?:[^\"']+|(?!\\2).|\\2\\2)*)\\2|([^\"'"+u.delimeter+"\\n\\r]*))","gi"),r=[],v=null,q="",t=[],s=0,o=0,p=null;while(v=w.exec(x)){if(!v[1]){s=0;o++;if(o>1&&u.firstRowHeaders||!u.firstRowHeaders){if(u.firstRowHeaders){r.push({})}else{r.push([])}}}p=v[2];if(p){q=v[3].replace(new RegExp(p+p,"g"),p)}else{q=v[4]}if(o==1&&u.firstRowHeaders){t.push(q)}else{if(u.firstRowHeaders){r[r.length-1][t[s]]=q;s++}else{r[r.length-1].push(q)}}}return r}function m(q){var p=q.split(".").pop().toLowerCase(),o="";switch(p){case"json":case"js":o="JSON";break;case"xml":o="XML";break;case"csv":o="CSV";break;case"tsv":o="TSV";break}return{ext:p,type:o}}return{load:l,loadCallback:function(){},parse:j}}b.Nigel=new d()})(this,this.document);(function(a,b,c){function d(){function i(a,b){return b.fusionTable||a.indexOf("/fusiontables/")!=-1?!0:!1}function j(a,d,e){if(a===""||d===c||typeof d!="function")return alert("No URL or callback"),c;e=e||{};var f=new g,h=null;if(e.type=e.type||m(a).type,e.raw=e.raw||!1,e.injectToPage=e.injectToPage||!1,(e.fusionTable=i(a,e))&&(a=a.replace(/(([&|\?]n?)alt=csv(&?))/gi,"$2alt=json$3").replace(/&callback(=[^&]*)?|callback(=[^&]*)?&?/gi,""),e.type="JSON"),e.injectToPage){this.loadCallback=d,a+="&callback=Nigel.loadCallback";var j=b.createElement("script"),l=b.getElementsByTagName("script")[0];j.type="text/javascript",j.src=a,l.parentNode.insertBefore(j,l)}else f.onreadystatechange=function(){f.readyState==4&&f.status==200?e.raw?d(f.responseText):(h=k(f.responseText,e.type,e),d(h)):f.readyState==4&&f.status!=200&&d({error:{text:"Request error",code:f.status}})},f.onerror=function(){f.abort(),d({error:{text:"Request error",code:f.status}})},f.open("GET",a,!1),f.overrideMimeType&&f.overrideMimeType(e.type),f.send(null)}function k(a,b,c){return e[b](a,c)}function l(a,b){typeof b.firstRowHeaders!="boolean"&&(b.firstRowHeaders=!0);var c=RegExp("(?:("+b.delimeter+")|[\\n\\r]|^)"+"(?:([\"'])((?:[^\"']+|(?!\\2).|\\2\\2)*)\\2"+"|([^\"'"+b.delimeter+"\\n\\r]*))","gi"),d=[],e=null,f="",g=[],h=0,i=0,j=null;while(e=c.exec(a))e[1]||(h=0,i++,(i>1&&b.firstRowHeaders||!b.firstRowHeaders)&&(b.firstRowHeaders?d.push({}):d.push([]))),j=e[2],f=j?e[3].replace(RegExp(j+j,"g"),j):e[4],i==1&&b.firstRowHeaders?g.push(f):b.firstRowHeaders?(d[d.length-1][g[h]]=f,h++):d[d.length-1].push(f);return d}function m(a){var b=a.split(".").pop().toLowerCase(),c="";switch(b){case"json":case"js":c="JSON";break;case"xml":c="XML";break;case"csv":c="CSV";break;case"tsv":c="TSV"}return{ext:b,type:c}}var d=function(){var a,b,e,l,d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f=function(b){throw{name:"SyntaxError",message:b,at:a,text:e}},g=function(c){return c&&c!==b&&f("Expected '"+c+"' instead of '"+b+"'"),b=e.charAt(a),a+=1,b},h=function(){var a,d="";b==="-"&&(d="-",g("-"));while(b>="0"&&"9">=b)d+=b,g();if(b==="."){d+=".";while(g()&&b>="0"&&"9">=b)d+=b}if(b==="e"||b==="E"){d+=b,g(),(b==="-"||b==="+")&&(d+=b,g());while(b>="0"&&"9">=b)d+=b,g()}return a=+d,isFinite(a)?a:(f("Bad number"),c)},i=function(){var a,c,h,e="";if(b==='"')while(g()){if(b==='"')return g(),e;if(b==="\\")if(g(),b==="u"){for(h=0,c=0;4>c;c+=1){if(a=parseInt(g(),16),!isFinite(a))break;h=h*16+a}e+=String.fromCharCode(h)}else{if(typeof d[b]!="string")break;e+=d[b]}else e+=b}f("Bad string")},j=function(){while(b&&" ">=b)g()},k=function(){switch(b){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+b+"'")},m=function(){var a=[];if(b==="["){if(g("["),j(),b==="]")return g("]"),a;while(b){if(a.push(l()),j(),b==="]")return g("]"),a;g(","),j()}}f("Bad array")},n=function(){var a,c={};if(b==="{"){if(g("{"),j(),b==="}")return g("}"),c;while(b){if(a=i(),j(),g(":"),Object.hasOwnProperty.call(c,a)&&f('Duplicate key "'+a+'"'),c[a]=l(),j(),b==="}")return g("}"),c;g(","),j()}}f("Bad object")};return l=function(){switch(j(),b){case"{":return n();case"[":return m();case'"':return i();case"-":return h();default:return b>="0"&&"9">=b?h():k()}},function(d,g){var h;return e=d,a=0,b=" ",h=l(),j(),b&&f("Syntax error"),typeof g=="function"?function i(a,b){var d,e,f=a[b];if(f&&typeof f=="object")for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&(e=i(f,d),e!==c?f[d]=e:delete f[d]);return g.call(a,b,f)}({"":h},""):h}}(),e={CSV:function(a,b){return b=b||{},b.delimeter=",",l(a,b)},JSON:function(b){return"JSON"in a?JSON.parse(b):d(b)},TSV:function(a,b){return b=b||{},b.delimeter="	",l(a,b)},XML:function(b){function f(a){var b={attributes:[],children:[],nodeName:"",nodeValue:""},c=0,d=0;if(a.attributes.length!=0)for(c=0,d=a.attributes.length;d>c;c++)b.attributes.push([a.attributes[c].nodeName,a.attributes[c].nodeValue]);for(c=0,d=a.childNodes.length;d>c;c++)a.childNodes[c].nodeType!=3&&b.children.push(f(a.childNodes[c]));return b.nodeName=a.nodeName,a.childNodes.length==1&&a.childNodes[0].nodeType==3&&(b.nodeValue=a.childNodes[0].nodeValue),b}var d=null,e={};return a.DOMParser!==c?d=(new DOMParser).parseFromString(b,"text/xml"):(d=new a.ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b)),e=f(d.documentElement)}},g=a.XMLHttpRequest||ActiveXObject("Msxml2.XMLHTTP")||ActiveXObject("Microsoft.XMLHTTP");return navigator.userAgent.indexOf("MSIE")!==-1?!0:!1,{load:j,loadCallback:function(){},parse:k}}a.Nigel=d()})(this,this.document)