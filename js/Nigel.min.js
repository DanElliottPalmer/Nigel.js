(function(a,b){function c(){function h(a,c,d){if(a===""||c===b||typeof c!="function")return console.log("No URL or callback"),b;d=d||{};var e=new f,g=null;d.type=d.type||k(a).type,d.raw=d.raw||!1,e.onreadystatechange=function(){e.readyState==4&&e.status==200?d.raw?c(e.responseText):(g=i(e.responseText,d.type,d),c(g)):e.readyState==4&&e.status!=200&&c({error:e.status})},e.onerror=function(){c({error:e.statusText})},e.open("GET",a,!1),e.overrideMimeType(d.type),e.send(null)}function i(a,b,c){return d[b](a,c)}function j(a,b){typeof b.firstRowHeaders!="boolean"&&(b.firstRowHeaders=!0);var c=RegExp("(?:("+b.delimeter+")|[\\n\\r]|^)"+"(?:([\"'])((?:[^\"']+|(?!\\2).|\\2\\2)*)\\2"+"|([^\"'"+b.delimeter+"\\n\\r]*))","gi"),d=[],e=null,f="",g=[],h=0,i=0,j=null;while(e=c.exec(a))e[1]||(h=0,i++,(i>1&&b.firstRowHeaders||!b.firstRowHeaders)&&(b.firstRowHeaders?d.push({}):d.push([]))),j=e[2],f=j?e[3].replace(RegExp(j+j,"g"),j):e[4],i==1&&b.firstRowHeaders?g.push(f):b.firstRowHeaders?(d[d.length-1][g[h]]=f,h++):d[d.length-1].push(f);return d}function k(a){var b=a.split(".").pop().toLowerCase(),c="";switch(b){case"json":case".js":c="JSON";break;case"xml":c="XML";break;case"csv":c="CSV";break;case"tsv":c="TSV"}return{ext:b,type:c}}var c=function(){var a,c,e,l,d={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f=function(b){throw{name:"SyntaxError",message:b,at:a,text:e}},g=function(b){return b&&b!==c&&f("Expected '"+b+"' instead of '"+c+"'"),c=e.charAt(a),a+=1,c},h=function(){var a,d="";c==="-"&&(d="-",g("-"));while(c>="0"&&"9">=c)d+=c,g();if(c==="."){d+=".";while(g()&&c>="0"&&"9">=c)d+=c}if(c==="e"||c==="E"){d+=c,g(),(c==="-"||c==="+")&&(d+=c,g());while(c>="0"&&"9">=c)d+=c,g()}return a=+d,isFinite(a)?a:(f("Bad number"),b)},i=function(){var a,b,h,e="";if(c==='"')while(g()){if(c==='"')return g(),e;if(c==="\\")if(g(),c==="u"){for(h=0,b=0;4>b;b+=1){if(a=parseInt(g(),16),!isFinite(a))break;h=h*16+a}e+=String.fromCharCode(h)}else{if(typeof d[c]!="string")break;e+=d[c]}else e+=c}f("Bad string")},j=function(){while(c&&" ">=c)g()},k=function(){switch(c){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+c+"'")},m=function(){var a=[];if(c==="["){if(g("["),j(),c==="]")return g("]"),a;while(c){if(a.push(l()),j(),c==="]")return g("]"),a;g(","),j()}}f("Bad array")},n=function(){var a,b={};if(c==="{"){if(g("{"),j(),c==="}")return g("}"),b;while(c){if(a=i(),j(),g(":"),Object.hasOwnProperty.call(b,a)&&f('Duplicate key "'+a+'"'),b[a]=l(),j(),c==="}")return g("}"),b;g(","),j()}}f("Bad object")};return l=function(){switch(j(),c){case"{":return n();case"[":return m();case'"':return i();case"-":return h();default:return c>="0"&&"9">=c?h():k()}},function(d,g){var h;return e=d,a=0,c=" ",h=l(),j(),c&&f("Syntax error"),typeof g=="function"?function i(a,c){var d,e,f=a[c];if(f&&typeof f=="object")for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&(e=i(f,d),e!==b?f[d]=e:delete f[d]);return g.call(a,c,f)}({"":h},""):h}}(),d={CSV:function(a,b){return b=b||{},b.delimeter=",",j(a,b)},JSON:function(b){return"JSON"in a?JSON.parse(b):c(b)},TSV:function(a,b){return b=b||{},b.delimeter="	",j(a,b)},XML:function(c){function f(a){var b={attributes:[],children:[],nodeName:"",nodeValue:""},c=0,d=0;if(a.attributes.length!=0)for(c=0,d=a.attributes.length;d>c;c++)b.attributes.push([a.attributes[c].nodeName,a.attributes[c].nodeValue]);for(c=0,d=a.childNodes.length;d>c;c++)a.childNodes[c].nodeType!=3&&b.children.push(f(a.childNodes[c]));return b.nodeName=a.nodeName,a.childNodes.length==1&&a.childNodes[0].nodeType==3&&(b.nodeValue=a.childNodes[0].nodeValue),b}var d=null,e={};return a.DOMParser!==b?d=(new DOMParser).parseFromString(c,"text/xml"):(d=new a.ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c)),e=f(d.documentElement)}},f=a.XMLHttpRequest||ActiveXObject("Msxml2.XMLHTTP")||ActiveXObject("Microsoft.XMLHTTP");return navigator.userAgent.indexOf("MSIE")!==-1?!0:!1,{load:h,parse:i}}a.Nigel=c()})(this)